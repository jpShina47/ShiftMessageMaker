<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ã‚·ãƒ•ãƒˆé€ä¿¡è£œåŠ©ã‚¢ãƒ—ãƒª</title>
  <link rel="stylesheet" href="./pcstyle.css">
</head>
<body>
  <h2>ã‚·ãƒ•ãƒˆé€ä¿¡è£œåŠ©ã‚¢ãƒ—ãƒª</h2>

  <label>å¾“æ¥­å“¡ãƒªã‚¹ãƒˆï¼ˆ1è¡Œã«1åï¼‰</label>
  <textarea id="employee-list" rows="6" placeholder="ä¾‹ï¼š&#10;å±±ç”° å¤ªéƒ&#10;ä½è—¤ èŠ±å­"></textarea>
  <button onclick="registerEmployees()">ç™»éŒ²</button>

  <div id="entries-container">
    <!-- ã‚·ãƒ•ãƒˆé¸æŠã‚¨ãƒªã‚¢ãŒã“ã“ã«è¿½åŠ ã•ã‚Œã‚‹ -->
  </div>
  <button onclick="addEntry()">ï¼‹ è¿½åŠ </button>
  <br>
  <button onclick="generateMessage()">ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’ä½œæˆ</button>

  <h3>å‡ºåŠ›ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸</h3>
  <textarea id="output" readonly></textarea>

  <script>
    const timeSlots = [
      "14:20", "15:40",
      "15:50", "17:10",
      "17:20", "18:40",
      "18:50", "20:10",
      "20:20", "21:40"
    ];

    let employeeOptions = [];

    function registerEmployees() {
      const rawText = document.getElementById("employee-list").value;
      const lines = rawText.split("\n").map(line => line.trim()).filter(line => line);
      employeeOptions = lines;
      alert("å¾“æ¥­å“¡ãƒªã‚¹ãƒˆã‚’ç™»éŒ²ã—ã¾ã—ãŸã€‚å¿…è¦ã«å¿œã˜ã¦ã‚¨ãƒ³ãƒˆãƒªã‚’è¿½åŠ ã—ã¦ãã ã•ã„ã€‚");
      updateAllEmployeeSelects();
    }

    function updateAllEmployeeSelects() {
      const selects = document.querySelectorAll(".employee-select");
      selects.forEach(select => {
        const currentValue = select.value;
        select.innerHTML = "";
        employeeOptions.forEach(name => {
          const option = document.createElement("option");
          option.value = name;
          option.textContent = name;
          select.appendChild(option);
        });
        if (employeeOptions.includes(currentValue)) {
          select.value = currentValue;
        }
      });
    }

    function addEntry() {
  const container = document.getElementById("entries-container");
  const entryDiv = document.createElement("div");
  entryDiv.className = "shift-entry";

  const employeeSelect = document.createElement("select");
  employeeSelect.className = "employee-select";
  employeeOptions.forEach(name => {
    const option = document.createElement("option");
    option.value = name;
    option.textContent = name;
    employeeSelect.appendChild(option);
  });

  const startSelect = document.createElement("select");
  startSelect.className = "start-time-select";
  timeSlots.forEach(time => {
    const option = document.createElement("option");
    option.value = time;
    option.textContent = time;
    startSelect.appendChild(option);
  });

  const endSelect = document.createElement("select");
  endSelect.className = "end-time-select";
  timeSlots.forEach(time => {
    const option = document.createElement("option");
    option.value = time;
    option.textContent = time;
    endSelect.appendChild(option);
  });

  // ğŸ†• å‰Šé™¤ãƒœã‚¿ãƒ³
  const deleteBtn = document.createElement("button");
  deleteBtn.textContent = "å‰Šé™¤";
  deleteBtn.className = "delete-btn";
  deleteBtn.onclick = () => {
    container.removeChild(entryDiv);
  };

  entryDiv.appendChild(employeeSelect);
  entryDiv.appendChild(startSelect);
  entryDiv.appendChild(endSelect);
  entryDiv.appendChild(deleteBtn);

  container.appendChild(entryDiv);
}
  </script>
</body>
</html>
